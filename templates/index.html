<!DOCTYPE html>
<html>
<head>
    <title>Heart Disease Prediction</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Heart Disease Prediction</h1>
        <form method="POST">
            <label>Age:</label><input type="number" name="age" value="{{ form_data.get('age', '') }}" required><br>

            <label>Sex:</label>
            <select name="sex">
                <option value="Male" {% if form_data.get('sex') == 'Male' %}selected{% endif %}>Male</option>
                <option value="Female" {% if form_data.get('sex') == 'Female' %}selected{% endif %}>Female</option>
            </select><br>

            <label>Chest Pain Type:</label>
            <select name="cp">
                <option value="Typical Angina" {% if form_data.get('cp') == 'Typical Angina' %}selected{% endif %}>Typical Angina</option>
                <option value="Atypical Angina" {% if form_data.get('cp') == 'Atypical Angina' %}selected{% endif %}>Atypical Angina</option>
                <option value="Non-anginal Pain" {% if form_data.get('cp') == 'Non-anginal Pain' %}selected{% endif %}>Non-anginal Pain</option>
                <option value="Asymptomatic" {% if form_data.get('cp') == 'Asymptomatic' %}selected{% endif %}>Asymptomatic</option>
            </select><br>

            <label>Resting BP:</label><input type="number" name="bp" value="{{ form_data.get('bp', '') }}" required><br>
            <label>Cholesterol:</label><input type="number" name="chol" value="{{ form_data.get('chol', '') }}" required><br>

            <label>Fasting Blood Sugar:</label>
            <select name="fbs">
                <option value="< 120 mg/dL" {% if form_data.get('fbs') == '< 120 mg/dL' %}selected{% endif %}>< 120 mg/dL</option>
                <option value="> 120 mg/dL" {% if form_data.get('fbs') == '> 120 mg/dL' %}selected{% endif %}>> 120 mg/dL</option>
            </select><br>

            <label>Resting ECG:</label>
            <select name="restecg">
                <option value="Normal" {% if form_data.get('restecg') == 'Normal' %}selected{% endif %}>Normal</option>
                <option value="ST-T Abnormality" {% if form_data.get('restecg') == 'ST-T Abnormality' %}selected{% endif %}>ST-T Abnormality</option>
                <option value="Left Ventricular Hypertrophy" {% if form_data.get('restecg') == 'Left Ventricular Hypertrophy' %}selected{% endif %}>Left Ventricular Hypertrophy</option>
            </select><br>

            <label>Max Heart Rate:</label><input type="number" name="thalach" value="{{ form_data.get('thalach', '') }}" required><br>

            <label>Exercise Induced Angina:</label>
            <select name="exang">
                <option value="No" {% if form_data.get('exang') == 'No' %}selected{% endif %}>No</option>
                <option value="Yes" {% if form_data.get('exang') == 'Yes' %}selected{% endif %}>Yes</option>
            </select><br>

            <label>ST Depression (oldpeak):</label><input type="number" step="0.1" name="oldpeak" value="{{ form_data.get('oldpeak', '') }}" required><br>

            <label>ST Slope:</label>
            <select name="slope">
                <option value="Upsloping" {% if form_data.get('slope') == 'Upsloping' %}selected{% endif %}>Upsloping</option>
                <option value="Flat" {% if form_data.get('slope') == 'Flat' %}selected{% endif %}>Flat</option>
                <option value="Downsloping" {% if form_data.get('slope') == 'Downsloping' %}selected{% endif %}>Downsloping</option>
            </select><br><br>

            <div class="button-group">
                <input type="submit" value="Predict">
                <a href="/" class="reset-button">Reset</a>
            </div>
        </form>

        {% if result %}
        <div class="result {{ 'danger' if 'Heart Disease' in result else 'safe' }}">
            {{ result }}
        </div>
        {% endif %}
    </div>
</body>
</html>
